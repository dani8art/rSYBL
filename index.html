<!doctype html>
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on https://github.com/jonrohan -->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <link rel="stylesheet" href="stylesheets/stylesheet.css" media="screen">
  <link rel="stylesheet" href="stylesheets/github-dark.css">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="javascripts/script.js"></script>

  <title>rSYBL</title>
  <meta name="description" content="Controlling cloud services at multiple levels of abstraction ">

  <meta name="viewport" content="width=device-width,initial-scale=1">

</head>

<body>

  <div class="wrapper">
    <header>
      <h1 class="title">rSYBL</h1>
    </header>
    <div id="container">
      <p class="tagline">Controlling cloud services at multiple levels of abstraction </p>
      <div id="main" role="main">
        <div class="download-bar">
        <div class="inner">
          <a href="https://github.com/tuwiendsg/rSYBL/tarball/master" class="download-button tar"><span>Download</span></a>
          <a href="https://github.com/tuwiendsg/rSYBL/zipball/master" class="download-button zip"><span>Download</span></a>
          <a href="https://github.com/tuwiendsg/rSYBL" class="code">View rSYBL on GitHub</a>
        </div>
        <span class="blc"></span><span class="trc"></span>
        </div>
        <article class="markdown-body">
          <h3>
<a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages" aria-hidden="true"><span class="octicon octicon-link"></span></a>The SYBL language</h3>
SYBL is a language enabling elasticity requirements description for cloud services.
SYBL can be used by cloud providers, software providers, application developers or even end-users to describe their elasticity requirements concerning the application. The language allows for different levels of specification facilitating finer-grained elasticity specifications and enforcement depending on the actual needs of the users.
SYBL enables different levels at which users can specify elasticity requirements: application, component and programming. Application level allows for elasticity from the perspective of the whole application, while component-level and code-level elasticity requirements define user's elasticity needs for component, and respectively, sequnces of code.

<h3>SYBL Backus Naur Form (BNF)</h3>
<pre><code>
Constraint := constraintName : CONSTRAINT ComplexCondition 
Monitoring := monitoringName : MONITORING varName=MetricFormula 
Strategy := strategyName : STRATEGY WHEN ComplexCondition : action(parameterList)|  
		strategyName : STRATEGY WAIT ComplexCondition| 
		strategyName : STRATEGY STOP| 
		strategyName : STRATEGY RESUME		 

MetricFormula := metric | number | metricFormula MathOperator metric | metricFormula 
		MathOperator number 
ComplexCondition := Condition | ComplexCondition BitwiseOperator Condition|
		(ComplexCondition BitwiseOperator Condition) 
Condition := metric RelationOperator number| number RelationOperator metric | 
	    Violated(name)|Fulfilled(name) 
MathOperator := + | - | * | / 
BitwiseOperator := OR | AND | XOR | NOT 
RelationOperator := <|>|>=|<=|==|!= 
</code></pre>
<h3>Examples of using SYBL</h3>
<h4>Elasticity requirements in cloud service descriptions</h4>
SYBL elasticity requirements can be injected in cloud service descriptions, be them TOSCA-based or custom. This is a simple process since SYBL requirements are close to day-to-day sentences and can be associated to different nodes existent in the description.
Examples of such descriptions can be found in the git repository, <a href="https://raw.githubusercontent.com/tuwiendsg/rSYBL/master/rSYBL-control-service-pom/rSYBL-cloud-application-dependency-graph/tosca_DaaS_example.xml">tosca</a> or <a href="https://raw.githubusercontent.com/tuwiendsg/rSYBL/master/starting%20rSYBL/rSYBL%20Python%20clients/multipleEnforcementMechanisms_multiCloud/serviceDescription.xml">xml</a>

<h4>Elasticity requirements as Java annotations</h4>
For interpreting injected elasticity requirements, one needs to also deploy the Local module of the elasticity controller on each virtual machine/container where the unit is deployed.
<b>Cost-related elasticity requirements</b>
A cloud customer can specify that when the total cost is higher than 800 euro, there should be a scale-in action for keeping costs in acceptable limits. 
<pre><code>@SYBL_ApplicationContext(strategies="St1: STRATEGY CASE total_cost>800 Euro : ScaleIn")</code></pre>
Quality-related elasticity requirements
A software provider can specify constraints on the response time depending on the number of users currently accessing the provided software.
<pre><code>@SYBL_ComponentContext(constraints=
	"Co1: CONSTRAINT rt<2ms WHEN nbUsers<1000;
	Co2: CONSTRAINT rt<4ms WHEN nbUsers>=1000")</code></pre>
A developer could specify that the result from a data analytics algorithm must reach a certain data accuracy under a cost constraint without caring how many resources should be used for executing the code of that algorithm.
<pre><code>@SYBL_ProgrammingContext(constraints=
	"Co1: CONSTRAINT dataAccuracy>90%; 
	Co2:CONSTRAINT dataAccuracy>95% WHEN total_cost>400;
	Co3:CONSTRAINT total_cost<800;"
priorities=
	"Priority(Co2)>Priority(Co1);
	Priority(Co3)>Priority(Co1);")	</code></pre>
					
<b>Elasticity requirements on the relation between cost and quality</b>
A cloud provider could specify its pricing schema or price computation policies, for example that when availability is higher than 99% the cost should increase by 10%.
<pre><code>@SYBL_ApplicationContext(strategies="St1: STRATEGY CASE availability>99%: 
				IncreaseCostBy(total_cost/10)")</code></pre>
				
  
</section>
<section><h2>The rSYBL elasticity controller</h2></section>
<center><figure>
  <img src="http://www.infosys.tuwien.ac.at/research/viecom/SYBL/images/runtime.png"/>
</figure></center>
<section>
<a id="api"></a>
<h2>rSYBL API</h2>
<table style="width:100%">
	<colgroup>
  <col style="width:15%">
        <col style="width:10%">
        <col style="width:10%">
		<col style="width:10%">
		<col style="width:65%">
		</colgroup>
  <tr>
    <th>Method Name</th>
    <th>Type</th> 
    <th>Input type</th>
<th>Output type</th>
<th>Description</th>
  </tr>
<tr>
    <td>/{id}/prepareControl</td>
    <td>PUT</td> 
    <td>application/xml</td>
      <td>-</td>
<td>Sets the rSYBL controller in "prepare mode", for receiving all the necessary information for control.</td>
  </tr>
<tr>
    <td>/{id}/description/tosca</td>
    <td>PUT</td> 
    <td>application/xml</td>
      <td>-</td>
<td>Sends to rSYBL the TOSCA description of service with ID id</td>
  </tr>
<tr>
    <td>/{id}/description</td>
    <td>PUT</td> 
    <td>application/xml</td>
      <td>-</td>
<td>Sets rSYBL specific application structural description (e.g., <a href="https://raw.githubusercontent.com/tuwiendsg/rSYBL/master/starting%20rSYBL/rSYBL%20Python%20clients/multipleEnforcementMechanisms_multiCloud/cassandraApplicationDescriptionWithRequirements.xml">here</a> ) for service with ID id. When this is sent TOSCA description is not needed.</td>
  </tr>
<tr>
    <td>/{id}/deployment</td>
    <td>PUT</td> 
    <td>application/xml</td>
      <td>-</td>
<td>Sets current service deployment description for service with ID id (e.g., <a href="https://raw.githubusercontent.com/tuwiendsg/rSYBL/master/starting%20rSYBL/rSYBL%20Python%20clients/multipleEnforcementMechanisms_multiCloud/newDeploymentDescription.xml">here</a>). </td>
  </tr>
<tr>
    <td>/{id}/elasticityCapabilitiesEffects</td>
    <td>PUT</td> 
    <td>application/json</td>
      <td>-</td>
<td>Sets effects expected for primitive operations in JSON format (e.g., <a href="https://raw.githubusercontent.com/tuwiendsg/rSYBL/master/starting%20rSYBL/rSYBL%20Python%20clients/multipleEnforcementMechanisms_multiCloud/effects.json">here</a>) for service with ID id.</td>
  </tr><tr>
    <td>/{id}/compositionRules</td>
    <td>PUT</td> 
    <td>application/xml</td>
      <td>-</td>
<td>Sets composition rules for service metrics in MELA-specific XML format (e.g., <a href="https://raw.githubusercontent.com/tuwiendsg/rSYBL/master/starting%20rSYBL/rSYBL%20Python%20clients/multipleEnforcementMechanisms_multiCloud/compositionRules.xml">here</a>) for service with ID id.</td>
  </tr>

<tr>
    <td>/{id}/startControl</td>
    <td>PUT</td> 
    <td>application/xml</td>
      <td>-</td>
<td>Starts the control for the service with ID id.</td>
  </tr>
<tr>
    <td>/{id}/startControlOnExisting</td>
    <td>PUT</td> 
    <td>application/xml</td>
      <td>-</td>
<td>Starts the control on the service with ID id, which is already deployed and monitored.</td>
  </tr>
<tr>
    <td>/{id}/stopControl</td>
    <td>PUT</td> 
    <td>application/xml</td>
      <td>-</td>
<td>Stops the control (equivalent with a pause in control, for when the service is manually modified).</td>
  </tr>
<tr>
    <td>/{id}</td>
    <td>DELETE</td> 
    <td>-</td>
      <td>-</td>
<td>De-registers from rSYBL and MELA, and <i>undeploys</i> from the cloud the service with ID id.</td>
  </tr><tr>
    <td>/managedService/{id}</td>
    <td>DELETE</td> 
    <td>-</td>
      <td>-</td>
<td>De-registers from rSYBL and MELA service with ID id (does NOT undeploy) from the cloud. </td>
  </tr>


  <tr>
    <td>/{id}/onDemandControl/unhealthy</td>
    <td>PUT</td> 
    <td>plain/txt</td>
      <td>-</td>
<td>Triggers health fix (recursive restart in top-down mode) for service with ID id, for service part sent as parameter (in the method body).</td>
  </tr>

<tr>
    <td>/{id}/startTEST</td>
    <td>PUT</td>
    <td>application/xml</td> 
      <td>-</td>
<td>Starts the rSYBL controller in testing mode</td>
  </tr><tr>
    <td>/{id}/{servicePartID} /testElasticityCapability/ {capabilityID}</td>
    <td>PUT</td> 
    <td>application/xml</td>
      <td>-</td>
<td>Enforces, for service with ID id, capability with capabilityID for service part with servicePartID.</td>
  </tr><tr>
    <td>/{id}/{servicePartID} /testElasticityCapability /{pluginID} /{capabilityID}</td>
    <td>PUT</td> 
    <td>application/xml</td>
      <td>-</td>
<td>Enforces, for service with ID id, capability with capabilityID for service part with servicePartID, by using a specific enforcement plugin of rSYBL, with ID pluginID.</td>
  </tr>

<tr>
    <td>/{id}/description</td>
    <td>GET</td> 
    <td>-</td>
      <td>application/xml</td>
<td>Gets current application structural description used, in rSYBL specific format (e.g., <a href="https://raw.githubusercontent.com/tuwiendsg/rSYBL/master/starting%20rSYBL/rSYBL%20Python%20clients/multipleEnforcementMechanisms_multiCloud/cassandraApplicationDescriptionWithRequirements.xml">here</a> )</td>
  </tr>
<tr>
    <td>/{id}/elasticityRequirements/xml</td>
    <td>GET</td> 
    <td>-</td>
      <td> application/xml</td>
<td>Returns elasticity requirements for the service with ID id, in XML format.</td>
  </tr>
<tr>
    <td>/{id}/elasticityRequirements/plain</td>
    <td>GET</td> 
    <td>-</td>
      <td>text/plain</td>
<td>Returns elasticity requirements for the service with ID id, in SYBL format.</td>
  </tr>
<tr>
    <td>/{id}/structuralData/json"</td>
    <td>GET</td> 
    <td>-</td>
      <td>application/json</td>
<td>Returns the service structural description in JSON format.</td>
  </tr><tr>
    <td>elasticservices</td>
    <td>GET</td> 
    <td>-</td>
      <td>text/plain</td>
<td>Returns the ids of all currently controlled services, separated by ','.</td>
  </tr>

<tr>
    <td>/{id}/deployment</td>
    <td>POST</td> 
    <td>application/xml</td>
      <td>-</td>
<td>Modifies current service deployment description for service with ID id (e.g., <a href="https://raw.githubusercontent.com/tuwiendsg/rSYBL/master/starting%20rSYBL/rSYBL%20Python%20clients/multipleEnforcementMechanisms_multiCloud/newDeploymentDescription.xml">here</a>).</td>
  </tr>

<tr>
    <td>/{id}/description</td>
    <td>POST</td> 
    <td>application/xml</td>
      <td>-</td>
<td>Modifies for service with ID id, the service description which is sent in the body of this call.</td>
  </tr>
<tr>
    <td>/{id}/compositionRules</td>
    <td>POST</td> 
    <td>application/xml</td>
      <td>-</td>
<td>Modifies composition rules for service with ID id (i.e., old ones are being replaced with the new ones sent in the message body). </td>
  </tr>
<tr>
    <td>/{id}/elasticityRequirements/xml</td>
    <td>POST</td> 
    <td>application/xml</td>
      <td>-</td>
<td>Modifies elasticity requirements for the service with ID id, with the ones received. The received requirements are for this method in XML format.</td>
  </tr>


<tr>
    <td>/{id}/elasticityCapabilitiesEffects</td>
    <td>POST</td> 
    <td>application/json</td>
      <td>-</td>
<td> Modifies elasticity capabilities effects for service with ID id, with the ones sent in JSON format.</td>
  </tr>
<tr>
    <td>/{id}/replaceRequirements/plain</td>
    <td>POST</td> 
    <td>text/plain</td>
      <td>-</td>
<td>Replaces elasticity requirements for service with ID id with the ones received in SYBL format.</td>
  </tr>
</table>
</section>
<section>
  <h2>Installing rSYBL</h2>
  The instalation and customization process is described in prototype's <a href="https://github.com/tuwiendsg/rSYBL/wiki/User-Guide">wiki</a>.
</section>
<section>
<a id="support-or-contact" class="anchor" href="#support-or-contact" aria-hidden="true"><span class="octicon octicon-link"></span></a>Please contact <a>Georgiana Copil</a> if you need help in using rSYBL.</a></h3>

<p>Having trouble with rSYBL? Check out the documentation on the <a href="https://github.com/tuwiendsg/rSYBL/wiki">wiki</a> or contact us via <a href="mailto:e.copil@dsg.tuwien.ac.at">mail</a> and we’ll help you sort it out.</p>
</section>
        </article>
      </div>
    </div>
    <footer>
      <div class="owner">
      <p><a href="https://github.com/tuwiendsg" class="avatar"><img src="https://avatars3.githubusercontent.com/u/6013536?v=3&amp;s=60" width="48" height="48"></a> <a href="https://github.com/tuwiendsg">tuwiendsg</a> maintains <a href="https://github.com/tuwiendsg/rSYBL">rSYBL</a></p>


      </div>
      <div class="creds">
        <small>This page generated using <a href="https://pages.github.com/">GitHub Pages</a><br>theme by <a href="https://twitter.com/jonrohan/">Jon Rohan</a></small>
      </div>
    </footer>
  </div>
  <div class="current-section">
    <a href="#top">Scroll to top</a>
    <a href="https://github.com/tuwiendsg/rSYBL/tarball/master" class="tar">tar</a><a href="https://github.com/tuwiendsg/rSYBL/zipball/master" class="zip">zip</a><a href="" class="code">source code</a>
    <p class="name"></p>
  </div>

  
</body>
</html>
